<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover"
  />
  <title>YÄ±lbaÅŸÄ± Mini Game | Skor Tablosu</title>
  <link rel="stylesheet" href="style.css?v=6" />
</head>

<body class="gift-page">
  <div class="gift-wrapper" style="max-width: 600px;">

    <header class="game-header">
      <h1>ğŸ® YÄ±lbaÅŸÄ± Mini Game</h1>
      <p class="game-subtitle">
        DÃ¼ÅŸen yÄ±lbaÅŸÄ± emojilerini hediye kutusuyla yakala, sÃ¼ren bitmeden
        en yÃ¼ksek skoru yap!
      </p>
    </header>

    <!-- Kurallar butonu ve modal -->
    <button id="showRulesBtn" class="rules-toggle-btn">
      ğŸ“œ KurallarÄ± GÃ¶ster
    </button>

    <div id="rulesModal" class="rules-modal hidden">
      <div class="rules-modal-content">
        <button id="closeRulesBtn" class="rules-close-btn">Ã—</button>
        <h2>NasÄ±l oynanÄ±r?</h2>
        <ul>
          <li>Ã–nce kendi <strong>kodunu</strong> yaz (Ã¶rn: <code>STARDUCKS</code>).</li>
          <li><strong>Ok tuÅŸlarÄ±</strong> veya <strong>ekrana sÃ¼rÃ¼kleme</strong> ile
            hediye kutusunu saÄŸaâ€“sola hareket ettir.</li>
          <li>ğŸ„ ğŸ â­ ğŸ€ <strong>sÃ¼sler</strong>: <span class="rules-score">+10 puan</span></li>
          <li>â„ï¸ <strong>kar taneleri</strong>: <span class="rules-score">+15 puan</span></li>
          <li>ğŸ’£ <strong>bomba</strong>: <span class="rules-score">-20 puan</span></li>
          <li>â° <strong>saat</strong>: <span class="rules-score">+5 saniye sÃ¼re</span></li>
          <li>â˜ ï¸ <strong>kuru kafa</strong>: Skorunu <strong>0â€™a dÃ¼ÅŸÃ¼rÃ¼r</strong>,
            oyun devam eder (hiÃ§bir uyarÄ± Ã§Ä±kmaz).</li>
          <li>BaÅŸlangÄ±Ã§ sÃ¼resi <strong>35 saniye</strong>. SÃ¼re bitince skorun
            kaydedilir ve tabloda gÃ¶rÃ¼nÃ¼r.</li>
        </ul>
      </div>
    </div>

    <!-- OYUN ALANI -->
    <section id="gameArea">
      <label for="gamePlayerCode" class="game-label">
        Kodun (Ã¶rn: STARDUCKS):
      </label>
      <input
        id="gamePlayerCode"
        type="text"
        placeholder="Kodunu yaz"
        autocomplete="off"
        class="game-input"
      />

      <button id="startGameBtn" class="mini-game-btn game-start-btn">
        Oyunu BaÅŸlat
      </button>

      <div class="game-canvas-wrapper">
        <canvas id="gameCanvas" width="320" height="360"></canvas>
      </div>

      <p id="gameScoreDisplay" class="game-info-text">Skor: 0</p>
      <p id="gameTimerDisplay" class="game-info-text">SÃ¼re: 35</p>
    </section>

    <!-- SKOR TABLOSU -->
    <section class="scoreboard-area">
      <h2>Skor Tablosu</h2>
      <p class="game-subtitle small">
        En yÃ¼ksek skoruna gÃ¶re sÄ±ralÄ±dÄ±r ve Firestoreâ€™dan canlÄ± gÃ¼ncellenir.
      </p>
      <table class="scoreboard-table">
        <thead>
          <tr>
            <th>SÄ±ra</th>
            <th>Ä°sim</th>
            <th>En YÃ¼ksek Skor</th>
          </tr>
        </thead>
        <tbody id="scoreboardBody">
          <!-- JS dolduruyor -->
        </tbody>
      </table>
    </section>

    <a href="hediye.html" class="back-link" style="margin-top: 20px; display:block;">
      ğŸ Hediyeye geri dÃ¶n
    </a>
  </div>

  <!-- Firebase SDK (compat) -->
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>

  <!-- Oyun + skor JS -->
  <script src="game.js?v=5"></script>
</body>
</html>
